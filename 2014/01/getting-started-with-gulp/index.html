<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <title>Getting started with gulp — Mark Goodyear &mdash; Front-end developer and designer</title>
    <meta content="Step aside Grunt, there's a new task runner in town. Gulp is an intuitive, code-over-configuration, streaming build system. It's fast." name='description'>
    <link href='http://markgoodyear.com/2014/01/getting-started-with-gulp/' rel='canonical'>
    <meta content='article' property='og:type'>
    <meta content='Getting started with gulp â€” Mark Goodyear â€” Front-end developer and designer' property='og:title'>
    <meta content='http://markgoodyear.com/2014/01/getting-started-with-gulp/' property='og:url'>
    <meta content="Step aside Grunt, there's a new task runner in town. Gulp is an intuitive, code-over-configuration, streaming build system. It's fast." name='og:description'>
    <meta name='twitter:card' value='summary'>
    <meta name='twitter:creator' value='@markgdyr'>
    <meta name='twitter:title' value='Getting started with gulp &amp;mdash; Mark Goodyear &amp;mdash; Front&amp;dash;end developer and designer'>
    <meta name='twitter:description' value="Step aside Grunt, there's a new task runner in town. Gulp is an intuitive, code-over-configuration, streaming build system. It's fast.">
    <script>
      !function () {
        function supportsSVG() { return !!document.createElementNS && !! document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect }
          if (supportsSVG()) document.documentElement.className += ' svg'
          else document.documentElement.className += ' no-svg'
      }()
    </script>
    <link href="../../../css/site.css" media="screen" rel="stylesheet" type="text/css" />
    <script src='//use.typekit.net/yfa5mlg.js'></script>
    <script>
      try{Typekit.load();}catch(e){}
    </script>
    <!--[if (gte IE 6)&(lte IE 8)]>
      <script src="../../../js/selectivizr.js" type="text/javascript"></script>
    <![endif]-->
    <!--[if lte IE 9]>
      <script src="../../../js/html5shiv.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body class='2014 2014_01 2014_01_getting-started-with-gulp 2014_01_getting-started-with-gulp_index'>
    <header class='page-head'>
      <div class='container'>
        <div class='logo'>
          <a href="/"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" />
          </a>
        </div>
        <nav class='page-nav'>
          <ul class='nav-list'>
            <li>
              <a href="/blog">Blog</a>
            </li>
            <li>
              <a href="/contact">Contact</a>
            </li>
          </ul>
        </nav>
        <div class='twitter-follow'>
          <a href="https://twitter.com/markgdyr" class="twitter-follow-button" data-show-count="false" data-size="">Follow @markgdyr</a>
          <script>
            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
          </script>
        </div>
      </div>
    </header>
    <div class='container page-wrap'>
      <article class='post-item'>
        <header class='post-head'>
          <!-- -if current_page.data.header == "none" -->
          <h1 class='post-title'>Getting started with gulp</h1>
          <span class='post-date'>Jan 19, 2014</span>
        </header>
        <div class='post-content'>
          <div class="infoblock"><small><em>Posted updated Jan 28th, 2014 to reflect the advancement of gulp</em></small></div>
          
          <p class="lead">Step aside Grunt, there&rsquo;s a new task runner in town. Gulp is an intuitive, code-over-configuration, streaming build system. It&rsquo;s <em>fast</em>.</p>
          
          <p><em>Why should I be interested?</em> Good question. Gulp&rsquo;s code-over-configuration makes it not only easy to write tasks for, but also much easier to read and maintain.</p>
          
          <p>Gulp uses node.js streams, making it faster to build as it doesn&rsquo;t need to write temporary files/folders to disk. If you want to learn more about streams—although not necessary—<a href="https://github.com/substack/stream-handbook">this article</a> is a good read. Gulp allows you to input your source file(s), pipe them through a bunch of plugins and get an output at the end, rather than configuring each plugin with an input and output—like in Grunt. Let&rsquo;s take a look at an example of what a basic Sass build could look like with both Grunt and gulp:</p>
          
          <h4><strong>Grunt:</strong></h4>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div></td><td class="code"><span class="nx">sass</span><span class="err">:</span> <span class="p">{</span>&#x000A;  <span class="na">dist</span><span class="p">:</span> <span class="p">{</span>&#x000A;    <span class="na">options</span><span class="p">:</span> <span class="p">{</span>&#x000A;      <span class="na">style</span><span class="p">:</span> <span class="s1">&#39;expanded&#39;</span>&#x000A;    <span class="p">},</span>&#x000A;    <span class="na">files</span><span class="p">:</span> <span class="p">{</span>&#x000A;      <span class="s1">&#39;dist/assets/css/main.css&#39;</span><span class="err">:</span> <span class="s1">&#39;src/styles/main.scss&#39;</span><span class="p">,</span>&#x000A;    <span class="p">}</span>&#x000A;  <span class="p">}</span>&#x000A;<span class="p">},</span>&#x000A;&#x000A;<span class="nx">autoprefixer</span><span class="err">:</span> <span class="p">{</span>&#x000A;  <span class="na">dist</span><span class="p">:</span> <span class="p">{</span>&#x000A;    <span class="na">options</span><span class="p">:</span> <span class="p">{</span>&#x000A;      <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span>&#x000A;        <span class="s1">&#39;last 2 version&#39;</span><span class="p">,</span> <span class="s1">&#39;safari 5&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 8&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 9&#39;</span><span class="p">,</span> <span class="s1">&#39;opera 12.1&#39;</span><span class="p">,</span> <span class="s1">&#39;ios 6&#39;</span><span class="p">,</span> <span class="s1">&#39;android 4&#39;</span>&#x000A;      <span class="p">]</span>&#x000A;    <span class="p">},</span>&#x000A;    <span class="na">src</span><span class="p">:</span> <span class="s1">&#39;dist/assets/css/main.css&#39;</span><span class="p">,</span>&#x000A;    <span class="na">dest</span><span class="p">:</span> <span class="s1">&#39;dist/assets/css/main.css&#39;</span>&#x000A;  <span class="p">}</span>&#x000A;<span class="p">},</span>&#x000A;&#x000A;<span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="s1">&#39;autoprefixer&#39;</span><span class="p">]);</span>&#x000A;</td></tr></tbody></table></pre>
          <p>Grunt requires each plugin to be configured separately, specifying source and destination paths for each plugin. For example, we input one file to the Sass plugin, which then saves the output. We then need to configure Autoprefixer to input Sass&rsquo;s output, which then outputs another file. Let&rsquo;s take a look at the same configuration with gulp:</p>
          
          <h4><strong>Gulp:</strong></h4>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;sass&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/styles/main.scss&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">({</span> <span class="na">style</span><span class="p">:</span> <span class="s1">&#39;compressed&#39;</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">autoprefixer</span><span class="p">(</span><span class="s1">&#39;last 2 version&#39;</span><span class="p">,</span> <span class="s1">&#39;safari 5&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 8&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 9&#39;</span><span class="p">,</span> <span class="s1">&#39;opera 12.1&#39;</span><span class="p">,</span> <span class="s1">&#39;ios 6&#39;</span><span class="p">,</span> <span class="s1">&#39;android 4&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/css&#39;</span><span class="p">))</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>With gulp we only input one file. This gets modified by the Sass plugin, passed to the Autoprefixer plugin and modified, then we get one file out. This process speeds up the build process as we&rsquo;re not reading and writing unnecessary files to end up with one.</p>
          
          <p>So you&rsquo;re interested, now what? Let&rsquo;s install gulp and create a basic gulpfile with some core tasks to get started.</p>
          
          <h2>Installing gulp</h2>
          
          <p>Before we delve into configuring tasks, we need to install gulp:</p>
          <pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code">$ npm install gulp -g&#x000A;</td></tr></tbody></table></pre>
          <p>This installs gulp globally, giving access to gulp&rsquo;s CLI. We then need to install it locally to the project. <code>cd</code> into your project and run the following (make sure you have an existing <code>package.json</code> file):</p>
          <pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code">$ npm install gulp --save-dev&#x000A;</td></tr></tbody></table></pre>
          <p>This installs gulp locally to the project and saves it to the <code>devDependencies</code> in the <code>package.json</code> file.</p>
          
          <h2>Installing gulp plugins</h2>
          
          <p>We are going to install some plugins to achieve the following tasks:</p>
          
          <ul>
          <li>Sass compile <em>(<a href="https://github.com/sindresorhus/gulp-ruby-sass">gulp-ruby-sass</a>)</em></li>
          <li>Autoprefixer <em>(<a href="https://github.com/Metrime/gulp-autoprefixer">gulp-autoprefixer</a>)</em></li>
          <li>Minify CSS <em>(<a href="https://github.com/jonathanepollack/gulp-minify-css">gulp-minify-css</a>)</em></li>
          <li>JSHint <em>(<a href="https://github.com/wearefractal/gulp-jshint">gulp-jshint</a>)</em></li>
          <li>Concatenation <em>(<a href="https://github.com/wearefractal/gulp-concat">gulp-concat</a>)</em></li>
          <li>Uglify <em>(<a href="https://github.com/terinjokes/gulp-uglify">gulp-uglify</a>)</em></li>
          <li>Compress images <em>(<a href="https://github.com/sindresorhus/gulp-imagemin">gulp-imagemin</a>)</em></li>
          <li>LiveReload <em>(<a href="https://github.com/vohof/gulp-livereload">gulp-livereload</a>, requires <a href="https://github.com/mklabs/tiny-lr">tiny-lr</a>)</em></li>
          <li>Clean files for a clean build <em>(<a href="https://github.com/peter-vilja/gulp-clean">gulp-clean</a>)</em></li>
          <li>Caching of images so only changed images are compressed <em>(<a href="https://github.com/jgable/gulp-cache/">gulp-cache</a>)</em></li>
          <li>Notify of changes <em>(<a href="https://github.com/mikaelbr/gulp-notify">gulp-notify</a>)</em></li>
          </ul>
          
          <p>To install these plugins, run the following command:</p>
          <pre class="highlight text"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code">$ npm install gulp-ruby-sass gulp-autoprefixer gulp-minify-css gulp-jshint gulp-concat gulp-uglify gulp-imagemin gulp-clean gulp-notify gulp-rename gulp-livereload tiny-lr gulp-cache --save-dev&#x000A;</td></tr></tbody></table></pre>
          <p>This will install all necessary plugins and save them to <code>devDependencies</code> in <code>package.json</code>. A full list of gulp plugins can be <a href="http://gratimax.github.io/search-gulp-plugins/">found here</a>.</p>
          
          <h2>Load in the plugins</h2>
          
          <p>Next, we need to create a <code>gulpfile.js</code> and load in the plugins:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div></td><td class="code"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">sass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-ruby-sass&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">autoprefixer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-autoprefixer&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">minifycss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-minify-css&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">jshint</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-jshint&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-uglify&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">imagemin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-imagemin&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rename&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">clean</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-clean&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-concat&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">notify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-notify&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">cache</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-cache&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">livereload</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-livereload&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">lr</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;tiny-lr&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">server</span> <span class="o">=</span> <span class="nx">lr</span><span class="p">();</span>&#x000A;</td></tr></tbody></table></pre>
          <p>Phew! That seems a lot more work than Grunt, right? Gulp plugins are slightly different from Grunt plugins—they are designed to do one thing and one thing well. An example; Grunt&rsquo;s <code>imagemin</code> uses caching to avoid re-compressing images that are already compressed.  With gulp, this would be done with a cache plugin, which can also be used to cache other things too. This adds an extra layer of flexibility to the build process. Pretty cool huh?</p>
          
          <p>We can <a href="https://github.com/jackfranklin/gulp-load-tasks">auto load</a> all installed plugins like in Grunt, but for the purpose of this post we&rsquo;ll stick to the manual method.</p>
          
          <p>Notice that LiveReload requires more than one plugin. Gulp&rsquo;s LiveReload plugin hooks into nodes <code>tiny-lr</code> package to perform the LiveReloading. <code>var server = lr()</code> defines the LiveReload server.</p>
          
          <h2>Creating tasks</h2>
          
          <h3>Compile Sass, Autoprefix and minify</h3>
          
          <p>Firstly, we will configure Sass compiling. We&rsquo;re going to compile Sass as expanded, run it through Autoprefixer and save it to our destination. We&rsquo;ll then create a minified <code>.min</code> version, auto-refresh the page and notify that the task is complete:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/styles/main.scss&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">({</span> <span class="na">style</span><span class="p">:</span> <span class="s1">&#39;expanded&#39;</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">autoprefixer</span><span class="p">(</span><span class="s1">&#39;last 2 version&#39;</span><span class="p">,</span> <span class="s1">&#39;safari 5&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 8&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 9&#39;</span><span class="p">,</span> <span class="s1">&#39;opera 12.1&#39;</span><span class="p">,</span> <span class="s1">&#39;ios 6&#39;</span><span class="p">,</span> <span class="s1">&#39;android 4&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/css&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span><span class="na">suffix</span><span class="p">:</span> <span class="s1">&#39;.min&#39;</span><span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifycss</span><span class="p">())</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/css&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Styles task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p><em>A little explanation before moving on.</em></p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">)};</span>&#x000A;</td></tr></tbody></table></pre>
          <p>This is the <code>gulp.task</code> API which is used to create tasks. The above can run from Terminal with <code>$ gulp styles</code>.</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/styles/main.scss&#39;</span><span class="p">)</span>&#x000A;</td></tr></tbody></table></pre>
          <p>This is the <code>gulp.src</code> API where we define the source file(s). It also can be a glob pattern, such as <code>/**/*.scss</code> to match multiple files. By returning the stream it makes it asynchronous, ensuring the task is fully complete before we get a notification to say it&rsquo;s finished.</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">({</span> <span class="na">style</span><span class="p">:</span> <span class="s1">&#39;expanded&#39;</span> <span class="p">}))</span>&#x000A;</td></tr></tbody></table></pre>
          <p>We use <code>.pipe()</code> to pipe the source file(s) into a plugin. Usually the options for a plugin are found on their respective GitHub page. I&rsquo;ve linked them above for convenience.</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;</td></tr></tbody></table></pre>
          <p>For LiveReloading, we pipe to the <code>livereload</code> plugin within the task. Right now it won&rsquo;t do anything, we need to hook it up with the <code>watch</code> task that we&rsquo;ll create later on.</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/css&#39;</span><span class="p">));</span>&#x000A;</td></tr></tbody></table></pre>
          <p>The <code>gulp.dest</code> API is where we set the destination path. A task can have multiple destinations, one to output the expanded version and one to output the minifed version. This is demonstrated in the above <code>styles</code> task.</p>
          
          <p>I&rsquo;d recommend checking out the gulp <a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md">API documentaiton</a> to get a better understanding of these methods. It&rsquo;s not as scary as it sounds!</p>
          
          <h3>JSHint, concat, and minify JavaScript</h3>
          
          <p>Hopefully you&rsquo;ll now have a good idea of how to create a task for gulp. Next, we&rsquo;ll set up the scripts task to lint, concat and uglify:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;scripts&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/scripts/**/*.js&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">jshint</span><span class="p">(</span><span class="s1">&#39;.jshintrc&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">jshint</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="s1">&#39;main.js&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/js&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span><span class="na">suffix</span><span class="p">:</span> <span class="s1">&#39;.min&#39;</span><span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/js&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Scripts task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>One thing to note is that we need to specify a reporter for JSHint. I&rsquo;m using the default reporter, which should be fine for most people. More on this can be found <a href="http://www.jshint.com/docs/reporters/">on the JSHint website</a>.</p>
          
          <h3>Compress Images</h3>
          
          <p>Next, we&rsquo;ll set up image compression:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/images/**/*&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">({</span> <span class="na">optimizationLevel</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">interlaced</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/assets/img&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Images task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>This will take any source images and run them through the <code>imagemin</code> plugin. We can go a little further and utilise caching to save re-compressing already compressed images each time this task runs. All we need is the <a href="https://github.com/jgable/gulp-cache">gulp-cahce</a> plugin—which we installed earlier. To set this up, we need to change this line:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">({</span> <span class="na">optimizationLevel</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">interlaced</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}))</span>&#x000A;</td></tr></tbody></table></pre>
          <p>To this:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div></td><td class="code"><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">cache</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">({</span> <span class="na">optimizationLevel</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">interlaced</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})))</span>&#x000A;</td></tr></tbody></table></pre>
          <p>Now only new or changed images will be compressed. <em>Neat!</em></p>
          
          <h3>Clean up!</h3>
          
          <p>Before deploying, it&rsquo;s a good idea to clean out the destination folders and rebuild the files—just in case any have been removed from the source and are left hanging out in the destination folder:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;clean&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;dist/assets/css&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/assets/js&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/assets/img&#39;</span><span class="p">],</span> <span class="p">{</span><span class="na">read</span><span class="p">:</span> <span class="kc">false</span><span class="p">})</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">clean</span><span class="p">());</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>We can also pass an array of folders (or files) into <code>gulp.src</code>. As we don&rsquo;t need to read files that are being deleted, we can add <code>read: false</code> to the options to prevent gulp from reading the file contents—making it much quicker.</p>
          
          <h3>The default task</h3>
          
          <p>We can create a default task, ran by using <code>$ gulp</code>, to run all three tasks we have created:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;clean&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="nx">gulp</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="s1">&#39;scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;images&#39;</span><span class="p">);</span>&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>Notice the additional array in <code>gulp.task</code>. This is where we can define task dependencies. In this example, the clean task will run before the tasks in <code>gulp.start</code>. Tasks in Gulp run concurrently together and have no order in which they&rsquo;ll finish, so we need to make sure the <code>clean</code> task is completed before running additional tasks.</p>
          
          <p><em><strong>Note:</strong> It&rsquo;s advised against using <code>gulp.start</code> in favour of executing tasks in the dependency arrary, but in this scenario to ensure <code>clean</code> fully completes, it seems the best option.</em></p>
          
          <h3>Watch</h3>
          
          <p>To watch our files and perform the necessary task when they change, we firstly need to create a new task, then use the <code>gulp.watch</code> API to begin watching files:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;&#x000A;  <span class="c1">// Watch .scss files&#x000A;</span>  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/styles/**/*.scss&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;styles&#39;</span><span class="p">]);</span>&#x000A;&#x000A;  <span class="c1">// Watch .js files&#x000A;</span>  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/scripts/**/*.js&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;scripts&#39;</span><span class="p">]);</span>&#x000A;&#x000A;  <span class="c1">// Watch image files&#x000A;</span>  <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/images/**/*&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]);</span>&#x000A;&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>We specify the files we want to watch via the <code>gulp.watch</code> API and define which task(s) to run via the dependency array. We can now run <code>$ gulp watch</code> and any changes to <code>.scss</code>, <code>.js</code> or image files will run their respective tasks.</p>
          
          <h3>LiveReload</h3>
          
          <p>Gulp can also take care of automatically refreshing the page on file change. We&rsquo;ll need to modify our <code>watch</code> task, configuring the LiveReload server to listen on port 35729—the default LiveReload port.</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div></td><td class="code"><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;&#x000A;  <span class="c1">// Listen on port 35729&#x000A;</span>  <span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">35729</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="c1">// Watch tasks go inside inside server.listen()&#x000A;</span>&#x000A;  <span class="p">});</span>&#x000A;&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>To make this work, you&rsquo;ll need to install and enable the LiveReload browser plugin. I use <a href="http://www.vagrantup.com">Vagrant</a> for my local dev, so I don&rsquo;t require gulp (or Grunt, for that matter) to create a static HTTP server and inject the LiveRelaod snippet for me. Because of this, I haven&rsquo;t investigated how to acheive that just yet, but it&rsquo;s definitely possible. You can also <a href="http://feedback.livereload.com/knowledgebase/articles/86180-how-do-i-add-the-script-tag-manually-">place the snippet in manually</a>.</p>
          
          <h2>Putting it all together</h2>
          
          <p>Here we have the full gulpfile:</p>
          <pre class="highlight javascript"><table><tbody><tr><td class="gutter gl"><div class="lineno">1</div><div class="lineno">2</div><div class="lineno">3</div><div class="lineno">4</div><div class="lineno">5</div><div class="lineno">6</div><div class="lineno">7</div><div class="lineno">8</div><div class="lineno">9</div><div class="lineno">10</div><div class="lineno">11</div><div class="lineno">12</div><div class="lineno">13</div><div class="lineno">14</div><div class="lineno">15</div><div class="lineno">16</div><div class="lineno">17</div><div class="lineno">18</div><div class="lineno">19</div><div class="lineno">20</div><div class="lineno">21</div><div class="lineno">22</div><div class="lineno">23</div><div class="lineno">24</div><div class="lineno">25</div><div class="lineno">26</div><div class="lineno">27</div><div class="lineno">28</div><div class="lineno">29</div><div class="lineno">30</div><div class="lineno">31</div><div class="lineno">32</div><div class="lineno">33</div><div class="lineno">34</div><div class="lineno">35</div><div class="lineno">36</div><div class="lineno">37</div><div class="lineno">38</div><div class="lineno">39</div><div class="lineno">40</div><div class="lineno">41</div><div class="lineno">42</div><div class="lineno">43</div><div class="lineno">44</div><div class="lineno">45</div><div class="lineno">46</div><div class="lineno">47</div><div class="lineno">48</div><div class="lineno">49</div><div class="lineno">50</div><div class="lineno">51</div><div class="lineno">52</div><div class="lineno">53</div><div class="lineno">54</div><div class="lineno">55</div><div class="lineno">56</div><div class="lineno">57</div><div class="lineno">58</div><div class="lineno">59</div><div class="lineno">60</div><div class="lineno">61</div><div class="lineno">62</div><div class="lineno">63</div><div class="lineno">64</div><div class="lineno">65</div><div class="lineno">66</div><div class="lineno">67</div><div class="lineno">68</div><div class="lineno">69</div><div class="lineno">70</div><div class="lineno">71</div><div class="lineno">72</div><div class="lineno">73</div><div class="lineno">74</div><div class="lineno">75</div><div class="lineno">76</div><div class="lineno">77</div><div class="lineno">78</div><div class="lineno">79</div><div class="lineno">80</div><div class="lineno">81</div><div class="lineno">82</div><div class="lineno">83</div><div class="lineno">84</div><div class="lineno">85</div></td><td class="code"><span class="c1">// Load plugins&#x000A;</span><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">sass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-ruby-sass&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">autoprefixer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-autoprefixer&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">minifycss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-minify-css&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">jshint</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-jshint&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-uglify&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">imagemin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-imagemin&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">rename</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rename&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">clean</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-clean&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">concat</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-concat&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">notify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-notify&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">cache</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-cache&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">livereload</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-livereload&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">lr</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;tiny-lr&#39;</span><span class="p">),</span>&#x000A;    <span class="nx">server</span> <span class="o">=</span> <span class="nx">lr</span><span class="p">();</span>&#x000A;&#x000A;<span class="c1">// Styles&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/styles/main.scss&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">sass</span><span class="p">({</span> <span class="na">style</span><span class="p">:</span> <span class="s1">&#39;expanded&#39;</span><span class="p">,</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">autoprefixer</span><span class="p">(</span><span class="s1">&#39;last 2 version&#39;</span><span class="p">,</span> <span class="s1">&#39;safari 5&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 8&#39;</span><span class="p">,</span> <span class="s1">&#39;ie 9&#39;</span><span class="p">,</span> <span class="s1">&#39;opera 12.1&#39;</span><span class="p">,</span> <span class="s1">&#39;ios 6&#39;</span><span class="p">,</span> <span class="s1">&#39;android 4&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/styles&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span> <span class="na">suffix</span><span class="p">:</span> <span class="s1">&#39;.min&#39;</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifycss</span><span class="p">())</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/styles&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Styles task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;<span class="c1">// Scripts&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;scripts&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/scripts/**/*.js&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">jshint</span><span class="p">(</span><span class="s1">&#39;.jshintrc&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">jshint</span><span class="p">.</span><span class="nx">reporter</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">concat</span><span class="p">(</span><span class="s1">&#39;main.js&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/scripts&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span> <span class="na">suffix</span><span class="p">:</span> <span class="s1">&#39;.min&#39;</span> <span class="p">}))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/scripts&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Scripts task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;<span class="c1">// Images&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;src/images/**/*&#39;</span><span class="p">)</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">cache</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">({</span> <span class="na">optimizationLevel</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="na">progressive</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">interlaced</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">livereload</span><span class="p">(</span><span class="nx">server</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;dist/images&#39;</span><span class="p">))</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s1">&#39;Images task complete&#39;</span> <span class="p">}));</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;<span class="c1">// Clean&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;clean&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;dist/styles&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/images&#39;</span><span class="p">],</span> <span class="p">{</span><span class="na">read</span><span class="p">:</span> <span class="kc">false</span><span class="p">})</span>&#x000A;    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">clean</span><span class="p">());</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;<span class="c1">// Default task&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;clean&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;    <span class="nx">gulp</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="s1">&#39;styles&#39;</span><span class="p">,</span> <span class="s1">&#39;scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;images&#39;</span><span class="p">);</span>&#x000A;<span class="p">});</span>&#x000A;&#x000A;<span class="c1">// Watch&#x000A;</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;&#x000A;  <span class="c1">// Listen on port 35729&#x000A;</span>  <span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">35729</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>&#x000A;    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>&#x000A;      <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>&#x000A;    <span class="p">};</span>&#x000A;&#x000A;    <span class="c1">// Watch .scss files&#x000A;</span>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/styles/**/*.scss&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;styles&#39;</span><span class="p">]);</span>&#x000A;&#x000A;    <span class="c1">// Watch .js files&#x000A;</span>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/scripts/**/*.js&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;scripts&#39;</span><span class="p">]);</span>&#x000A;&#x000A;    <span class="c1">// Watch image files&#x000A;</span>    <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;src/images/**/*&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]);</span>&#x000A;&#x000A;  <span class="p">});</span>&#x000A;&#x000A;<span class="p">});</span>&#x000A;</td></tr></tbody></table></pre>
          <p>You can also check out the gulpfile in <a href="https://gist.github.com/markgoodyear/8497946#file-gulpfile-js">this gist</a>. I&rsquo;ve also put together a Gruntfile that accomplishes the same tasks for a comparison in the <a href="https://gist.github.com/markgoodyear/8497946#file-gruntfile-js">same gist</a>.</p>
          
          <p>If you have any questions or issues, please leave a comment below or you can find me on <a href="https://twitter.com/markgdyr">Twitter</a>.</p>
          <div id="carbonads-container">
              <div class="close-ad">
                  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkFDQjc5RDEyRDBEMTFFMjgxQ0FFRTQzNkYyQTRBOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkFDQjc5RDIyRDBEMTFFMjgxQ0FFRTQzNkYyQTRBOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGQUNCNzlDRjJEMEQxMUUyODFDQUVFNDM2RjJBNEE5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGQUNCNzlEMDJEMEQxMUUyODFDQUVFNDM2RjJBNEE5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq1FxHMAAAEISURBVHjaYjE3N1dnZGRsAOKSY8eOPWUAAgsLCxkgvweI65jl5eXnc3FxWevr60f8/fv3cFJS0h8mJqYZnJycNnp6eiGM9vb2wsbGxicfPXrExs/P//fZs2fv/v//LwnU8KW6ulqZ+cGDB99v37594M+fP6GfP39m5uDg4FZTU/tXXl4uC9RwhAlk56ZNm94+BQJmZmZGPj6+f0AJZqB1N4FSccxAhwkDJWawsrLqycjI/BESEmJ59erVnzt37rB8//59IwtQYgHQkSYGBgafCwoKlP/9+/dkzpw5TEAFjL9+/VrDBFRQbGRk9CU7O1uJm5v7MC8vr4mAgICPkpLSj/T0dHmAAAMAneNkSa07wlAAAAAASUVORK5CYII=" alt="Close Ad">
              </div>
              <div class="carbonad">
                  <div id="azcarbon"></div>
                  <script type="text/javascript">
                      var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = "http://engine.carbonads.com/z/34234/azcarbon_2_1_0_VERT"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);
                  </script>
              </div>
          </div>
        </div>
        <div class='thoughts'>Like this post?
        <a class='brand-twitter' href='http://twitter.com/?status=Getting started with gulp: http://markgoodyear.com/2014/01/getting-started-with-gulp/ by @markgdyr' target='_blank'>Tweet it!</a></div>
        <div class="comments">
        	<div id="disqus_thread"></div>
        </div>
        
        <script>
        	var disqus_url = 'http://markgoodyear.com/2014/01/getting-started-with-gulp/';
        	var disqus_title = 'Getting started with gulp';
        	var disqus_shortname = 'markgoodyear';
        	// (function() {
        	// 	var dsq = document.createElement('script');
        	// 	dsq.async = dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        	// 	document.getElementsByTagName('head')[0].appendChild(dsq);
        	// })();
        	(function() {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
      </article>
    </div>
    <footer class='page-foot'>
      <div class='container'>
        <p>&copy; 2014 <a href="http://twitter.com/markgdyr" target="_blank">Mark Goodyear</a>. Built with <a href="http://middlemanapp.com" target="_blank">Middleman</a> and hosted on <a href="https://github.com/markgoodyear/markgoodyear.github.io" target="_blank">GitHub</a>.</p>
        <script src='//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>
        <script>
          window.jQuery || document.write('<script src="/js/libs/jquery-1.9.1.min.js"><\/script>')
        </script>
        <script src="../../../js/all.js" type="text/javascript"></script>
      </div>
    </footer>
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17303121-4']);
      _gaq.push(['_setDomainName', 'markgoodyear.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>

